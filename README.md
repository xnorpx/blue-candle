# Blue Candle

**Object detection service**
![Blue Candle Logo](assets/blue-candle.png)

---

## TL;DR

- [Blue Iris](https://blueirissoftware.com/) compatible.
- Dockerless
- Cuda support
- Simple to use
- Written in Rust
- Supports Windows
- Built-in small [Yolo8](https://github.com/ultralytics/ultralytics) model with support for other Yolo8 models.
- Yolo model implementation based on examples in [Candle](https://github.com/huggingface/candle), which implementation is based implementation in [Tinygrad](https://github.com/tinygrad/tinygrad).
- Uses [Axum](https://github.com/tokio-rs/axum) as the web framework.
- Utilizes Candle as the ML backend.

---

## About Blue Candle

Blue Candle is a streamlined, Windows-compatible object detection service designed for integration with Blue Iris. At its core, Blue Candle leverages the power and simplicity of Yolo 8 models, ensuring efficient and accurate detection capabilities. The service is dockerless, making it easily deployable in various environments.

Written in Rust, Blue Candle promises high performance and reliability. It uses Axum for its web framework, ensuring a robust and scalable web interface. For machine learning operations, Candle is employed as the backend.

The Yolo model implementation in Blue Candle is based on examples found in Candle which in turn is based on Tinygrad implementation.

Our goal with Blue Candle is to provide an accessible, user-friendly, and efficient object detection solution that can seamlessly integrate with your existing Blue Iris setup.

---

## Getting Started

### Build yourself

1. Install [Git](<https://git-scm.com/book/en/v2/Getting-Started-Installing-Git>).
2. Follow the instructions for your operating system.
3. Install [Rust](https://www.rust-lang.org/tools/install).
4. After installation, restart your terminal or command prompt.
5. Verify the installation with `rustc --version`.
6. Clone the repo: `git clone https://github.com/xnorpx/blue-candle`
7. `cd blue-candle`
8. `cargo run --release -- --help`
9. `cargo run --release -- --test`
10. `cargo run --release`
11. For CUDA support then do `cargo run --release --features cuda -- --test`
12. To download better models do `cargo run --release --features cuda -- --model-path ./models`
13. One example of how to run the server would be `cargo run --release --features cuda -- --model .\models\yolov8x.safetensors --labels person --image-path ./pictures`

## License

This project is dual-licensed under both the Apache License 2.0 and the MIT License, offering flexibility and broad compatibility with various licensing requirements for most of the code. However, specific components related to the Yolo8 model are licensed under the Affero General Public License (AGPL) due to their dependency on Ultralytics Yolo8, which is AGPL-licensed.

By using, modifying, or distributing any part of this project, you agree to comply with the terms of the respective licenses for each component:

- For the Yolo8 model components: [AGPL License](https://www.gnu.org/licenses/agpl-3.0.en.html)
- For all other components of the project: [Apache License 2.0](https://opensource.org/licenses/Apache-2.0) and [MIT License](https://opensource.org/licenses/MIT)

---

## Acknowledgments

- Web Framework: [Axum](https://github.com/tokio-rs/axum)
- ML Backend: [Candle](https://github.com/huggingface/candle)
- Yolo 8 Model: [Ultralytics](https://github.com/ultralytics/ultralytics)
- Yolo Model Inspiration: [Tinygrad](https://github.com/tinygrad/tinygrad)
- Blue Iris Software: [Blue Iris](https://blueirissoftware.com/)

---

<!-- markdownlint-disable MD033 -->
<sub>Logo generated by OpenAI's DALL-E, an AI image generation tool.</sub>
